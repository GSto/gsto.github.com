
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Eureka Moment With Regular Expressions - Glenn Stovall</title>
  <meta name="author" content="Glenn Stovall">

  
  <meta name="description" content="Regular expressions are a tough cookie for most programmers to figure out. They are terrifying to look at with their daunting syntax. There is also &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://glennstovall.com/blog/2012/03/06/my-eureka-moment-with-regular-expressions/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Glenn Stovall" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2427296-13']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
   
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >

  <header role="banner"><hgroup>
	<!--<div style='float:left;display:inline-block;'>-->
	<div class='header-image'>
	  <img src="/images/mugshot.jpg" width="128">
  </div>
<!--  <div style='float:left;display:inline-block;'>-->
  <div class='header-wrapper'>
		<h1><a href="/">Glenn Stovall</a></h1>
		
		  <br/>
      <h2 style='display:inline-block;'>Developer, Technical Consultant, Writer</h2>
		
  </div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:glennstovall.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
	<li><a href="/books">Books</a></li>
  <li><a href="/on/programming">Programming</a></li>
  <li><a href="/on/writing">Writing</a></li>
  <li><a href="/on/freelancing">Freelancing</a></li>
  <li><a href="/on/strategy">Strategy</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">My Eureka Moment With Regular Expressions</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-06T13:49:00-05:00" pubdate data-updated="true">Mar 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class="left" src="/images/articles/my_eureka_moment.jpg">
Regular expressions are a tough cookie for most programmers to figure out. They are <em>terrifying</em> to look at with their daunting syntax. There is also nothing quite like regular expressions anywhere in programming. programmers may learn to hack together basic regex expressions, or how to cut and paste some they find online for their needs, but it can be tricky to get a real grasp of the concept. Here I&#8217;d like to explain the line of thinking that finally led to me grokking regex.</p>

<!-- more -->


<p>For reference, I&#8217;ll be using the PERL-style regular expression syntax used by languages like PHP. Here&#8217;s a <a href="http://www.cheatography.com/davechild/cheat-sheets/regular-expressions/">Regular Expressions Cheat Sheet</a> That I&#8217;ll be referencing throughout this article, and it is a great resource to keep around.</p>

<h2>Regular Expressions: A Language Unto Itself</h2>

<p>The tricky thing about regular expressions is that it is its own language within a programming language. It has its own collection of symbols and syntax. Those long, scary strings that regexes are made up of are collections of these <em>symbols</em> and are used to make the <em>pattern</em> you want to match. Think of a regular expression as a <em>sentence</em>, and each one of the symbols as a <em>word</em>.</p>

<h2>Writing &#8220;Words&#8221; in Regular Expressions</h2>

<p>Most of the words of your regular expression are going to be made of a few different language constructs:</p>

<ul>
<li><strong>Ranges</strong> : defining a set of characters that can match. Common examples are <code>[A-Z]</code>, which means all capital letters, <code>[0-9]</code> or which means all digits. These can be combined as well. A common on is <code>[A-Za-z0-9-_]</code> which would match all letters, numbers, hyphens, and underscores.</li>
<li><strong>Character Classes</strong> : similar to ranges. <code>\s</code> means &#8216;any white space character&#8217;, where <code>\S</code> means &#8216;any non-white space character&#8217;.</li>
<li><strong>Metacharacters</strong> : characters that have thier own special meaning, the most common being the pipe <code>|</code> character, which means &#8216;or&#8217; similar to <code>||</code> in most programming languages. A subset of metacharacters is <em>anchors</em>, where can denote the beginning of a string (<code>^</code>) or the end of a string (<code>$</code>).</li>
<li><strong>Quantifiers</strong> : quantifiers are a kind of &#8216;modifier&#8217; to the above patterns. These let you tell the pattern how many of the previous pattern to look for. The common ones are: <code>*</code> for 0 or more, <code>+</code> for 1 or more, and <code>?</code> for 0 or 1. You can also explicity state an amount with something like <code>{5}</code> for 5 characters, or a range, such as <code>{3-6}</code>, which matches anywhere between three and six characters.</li>
</ul>


<h2>Building Patterns with Words</h2>

<p>Let&#8217;s look at the following example problem:</p>

<pre><code>we have a system that has to match social security numbers. 
They can look like any of the following:

123-45-6789
123/45/6789
123456789
</code></pre>

<p>so, now that we have the set of patterns we want to match, we can start building up smaller words to match each part of the pattern. Writing regular expressions is similar to writing functions or classes: you start by breaking down the problem, figuring out smaller parts of it, and then start working on combining these smaller solutions into a large one. So let&#8217;s start by writing out our pattern in plain English:</p>

<ul>
<li>We have the start of the string,</li>
<li>then three digits,</li>
<li>then either a hyphen, forward slash, or neither,</li>
<li>then two digits,</li>
<li>then either a hyphen, forward slash, or neither,</li>
<li>then four digits,</li>
<li>and that is the end of the string.</li>
</ul>


<p>So, let&#8217;s look at this step by step:</p>

<ul>
<li><strong>We have the start of the string</strong> : this is where we start with one of the anchors we mentioned earlier, <code>^</code>.</li>
<li><strong>Three Digits</strong> : We discussed the range of digits earlier (<code>[0-9]</code>), but that only matches a single digit. To match exactly 3, we will need a quantifier as well. So this word can be written as <code>[0-9]{3}</code>.</li>
<li><strong>Either a hyphen, forward slash, or neither</strong> : this is going to take another quantifier, but which one? It helps if we rephrase this statement a bit, and think of it as this: &#8220;exactly 0 or 1 hyphen or forward slash&#8221;. Now we can see that we need the <code>?</code> quantifier. We also see that we&#8217;ll need to use an &#8216;or&#8217; for this statement. For statements like this, you can wrap this part of the expression in parenthesis so that its clear whats going on. The answer here is <code>(-|/)?</code>. Declaring parts of a regular expression inside of parenthesis like this is called defining a <em>sub-pattern</em></li>
<li><strong>Two Digits</strong> : similar to above: <code>[0-9]{2}</code>.</li>
<li><strong>Either a hyphen, forward slash, or neither</strong> : same as above: <code>(-|/)?</code>.</li>
<li><strong>Four Digits</strong> : similar to above: <code>[0-9]{4}</code>.</li>
<li><strong>End of the String</strong> : another anchor, the <code>$</code> one this time.</li>
</ul>


<p>So, now let&#8217;s put that all together, and we have a full regular expression:</p>

<p><code>^[0-9]{3}(-|/)?[0-9]{2}(-|/)?[0-9]{4}$</code></p>

<p>Tada! Now that you can see how the regular expressions is really just a bunch of small parts that fit together, hopefully you can figure out how to both write your own regular expressions, and read other ones you come across.</p>

<p>This is just the tip of the regex iceberg though. There is a whole lot more you can do with it that is much more than the span of this article. Play around with them, refer back to the cheat sheet, and see what you can come up with.</p>

<p><strong>Edit</strong></p>

<p>I realized there was a small problem with the regular expression above. While this work for most of our cases, there is the scenario of getting a number formatted like so: <code>123-45/6789</code> which the pattern would match, even though it is not in a valid format. I asked about this on <a href="http://stackoverflow.com/questions/9624081/matching-delimiters-with-regular-expressions/9624128">Stack Overflow</a> And learned about using <em>back references</em> for situations like this. you can use the syntax <code>\1</code> where 1 is the number of the sub pattern you want to reference. By doing so, you can make sure that the second delimiter matches the first. So our regular expression would now look like this:</p>

<p><code>^[0-9]{3}(-|/)?[0-9]{2}\1?[0-9]{4}$</code></p>

<div class="ck_embed_form ck_horizontal_subscription_form">
  <div class="ck_embed_form_content">
      <h3 class="ck_embed_form_title">Pricing For Freelance Developers</h3>
      <div class="ck_embed_description">
        <span class="ck_image">
          <img alt="Book-portrait" src="http://s3.amazonaws.com/convertkit/subscription_forms/images/004/812/100/standard/Book-Portrait.png?1406907742" />
        </span>
          <p>Figure out how much to charge for your services. Learn when to bill hourly, when to bill a flat rate, and when to do something completely different.<a href='http://glennstovall.com/books/freelance-pricing-handbook'>Learn More&#8230;</a></p>
      </div>
  </div>   
   
  <div id='ck_success_msg'  style='display:none;'>
    <p>Thanks! Now check your email.</p>
  </div>
  
    <!--  Form starts here  -->
    <form id="ck_subscribe_form" class="ck_subscribe_form" action="https://app.convertkit.com/landing_pages/705/subscribe" data-remote="true" onSubmit="_gaq.push(['_trackEvent','Newsletter','FPH Download','standard']);console.log('event fired')">
        <div class="ck_image mobile-only">
    <img alt="Book-portrait" src="http://s3.amazonaws.com/convertkit/subscription_forms/images/004/811/858/standard/Book-Portrait.png?1398265358" />
    </div>
      <h3 class="mobile-only">Freelance Pricing Handbook</h3>
      <p class="mobile-only">Figure out how much to charge for your services. Learn when to bill hourly, when to bill a flat rate, and when to do something completely different.<a href='http://glennstovall.com/books/freelance-pricing-handbook'>Learn More&#8230;</a></p>
      <input type="hidden" name="id" value="705" id="landing_page_id"></input>
      <p class="ck_errorArea"></p>
      <div class="ck_control_group">
        <label class="ck_label" for="ck_firstNameField">First Name</label>
        <input type="text" name="first_name" class="ck_first_name" id="ck_firstNameField" required></input>
      </div>  
      <div class="ck_control_group">
        <label class="ck_label" for="ck_emailField">Email Address</label>
          <input type="email" name="email" class="ck_email_address" id="ck_emailField" required></input>
      </div>

      <button class="subscribe_button ck_subscribe_button btn fields" id='ck_subscribe_button'>
        Download the Free Book
      </button>
      <span class="ck_guarantee">We won&#8217;t send you spam. Unsubscribe at any time.</span>
    </form>
  </div>


<script src="https://app.convertkit.com/assets/CKJS4.js?v=12"></script>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Glenn Stovall</span></span>

      








  


<time datetime="2012-03-06T13:49:00-05:00" pubdate data-updated="true">Mar 6<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/regular-expressions/'>regular expressions</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://glennstovall.com/blog/2012/03/06/my-eureka-moment-with-regular-expressions/" data-via="GSto" data-counturl="http://glennstovall.com/blog/2012/03/06/my-eureka-moment-with-regular-expressions/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    

    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/02/28/setting-up-a-template-and-assets-in-codeigniter/" title="Previous Post: Setting Up a Template and Assets in CodeIgniter">&laquo; Setting Up a Template and Assets in CodeIgniter</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/03/07/terminals-for-absolute-beginners-part-2/" title="Next Post: Terminals for Absolute Beginners: Part 2">Terminals for Absolute Beginners: Part 2 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Get Started Here</h1>
  <ul>
    <li class="post"><strong>Freelancing & Business</strong></li>
      <li>
        <a href='https://medium.com/@gsto/how-i-used-writing-to-double-my-freelancing-rate-as-a-programmer-7b321bedecdc'>How I Used Writing to Double My Freelancing Rate as a Programmer</a>
      </li>
      <li class="post">
        <a href="http://glennstovall.com/blog/2014/04/03/10-resources-that-shaped-my-career/">10 Resources That Shaped My Career</a>
      </li>
      <li><a href="http://glennstovall.com/blog/2014/07/31/why-i-dont-bill-hourly/">Why I Don't Bill Hourly</a></li>
      <li class="post">
        <a href="https://api.medium.com/@gsto/how-letting-go-of-money-made-me-more-of-it-6c9c9f08b552">How Letting Go of Money Made Me More of It</a>
      </li>

</ul>

<ul>
  <li class="post"><strong>Shipping Products</strong></li>
      <li class="post">
        <a href="http://glennstovall.com/blog/2014/07/31/the-value-in-launching-early/">The Value in Launching Early</a>
      </li>
      <li class="post">
        <a href="http://glennstovall.com/blog/2014/05/09/freelance-pricing-handbook-launch-post-mortem/">Freelance Pricing Handbook Post-mortem</a>
      </li>
</ul>
<ul>
      <li class="post">
        <strong>Programming</strong>
      </li>

      <li class="post">
        <a href="http://glennstovall.com/blog/2013/06/27/angularjs-an-overview/">AngularJS: An Overview</a>
      </li>

      <li class="post">
        <a href="http://glennstovall.com/blog/2013/03/15/how-i-use-git/">How I Use Git</a>
      </li>

      <li class="post">
        <a href="http://glennstovall.com/blog/2013/01/07/writing-cron-jobs-and-command-line-scripts-in-codeigniter/">Writing Cron Jobs and Command Line Scripts in CodeIgniter</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/09/23/talking-productized-consulting-with-nick-disabato-video/">Talking Productized Consulting with Nick Disabato[Video]</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/22/yeoman-plus-angularjs-plus-foundation-a-modern-front-end-setup/">Yeoman + AngularJS + Foundation: A Modern Front End Setup</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/18/how-to-start-a-consultantcy-in-16-hours-from-kai-davis/">How to Start A Consultancy In 16 Hours From Kai Davis</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/16/exactly-how-i-got-my-first-500-subscribers-annoucing-a-new-case-study-and-seminar/">Exactly How I Got My First 500 Subscribers: Announcing a New Case Study And Seminar</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/15/why-multiple-packages-in-your-proposals-instantly-increase-conversions/">Why Multiple Packages In Your Proposals Instantly Increase Conversions</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/12/learning-emacs-one-shortcut-at-a-time/">Learning Emacs One Shortcut At A Time</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/11/lessons-learned-from-thomas-edisons-factory-fire/">Lessons Learned From Thomas Edison's Factory Fire</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/10/essentialism-through-the-ages/">Essentialism Through The Ages</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/09/how-to-write-more-personal-emails-to-your-list-that-get-open-and-convert/">How to Write More Personal Emails to Your List That Get Open and Convert</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/05/niche-blogging/">Niche Blogging</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/04/my-freelancing-stack/">My Freelancing Stack</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/03/30-day-blogging-challenge/">Will You Take The 30 day Publishing Challenge?</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p class='credit'>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <br />
  &copy; 2014 - Glenn Stovall
</p>
<p class='social-links'>
  <a href='http://www.facebook.com/glenns' target='_blank'>
    <img src='/images/Facebook.png' alt='Glenn Stovall on Facebook'>
  </a>
  <a href='http://www.twitter.com/gsto' target='_blank'>
    <img src='/images/Twitter.png' alt='Glenn Stovall on Twitter'>
  </a>
  <a href='http://linkedin.com/in/glennstovall' target='_blank'>
    <img src='/images/LinkedIn.png' alt='Glenn Stovall on LinkedIn'>
  </a>
  <a href='http://github.com/gsto' target='_blank'>
    <img src='/images/Github.png' alt='Glenn Stovall on Github'>
  </a>
</p>
 

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
